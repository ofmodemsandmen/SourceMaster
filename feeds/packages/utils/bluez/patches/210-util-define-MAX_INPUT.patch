--- a/src/shared/util.c
+++ b/src/shared/util.c
@@ -23,6 +23,9 @@
 #include <dirent.h>
 #include <limits.h>
 #include <string.h>
+#ifndef MAX_INPUT
+#define MAX_INPUT _POSIX_MAX_INPUT
+#endif
 
 #ifdef HAVE_SYS_RANDOM_H
 #include <sys/random.h>
