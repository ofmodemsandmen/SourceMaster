<%

function showicon(lck)
	if lck == 0 then
		return resource .. "/icons/off.png"
	else
		return resource .. "/icons/on.png"
	end
end


-%>
<!DOCTYPE html>
<html lang="en">
 <head>
	<title>Home - ROOter</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<link rel="stylesheet" href="<%=media%>/cascade.css">
	<link rel="stylesheet" href="<%=resource%>/basic/css/iconmoon_splash.css">
	<link rel="stylesheet" href="<%=resource%>/basic/css/splash.css">

	<link rel="SHORTCUT ICON" href="<%=resource%>/basic/img/favicon.gif">
	<link rel="icon" type="image/gif" href="<%=resource%>/basic/img/favicon.gif">
	<style>
	html * {
	  font-family: Arial, sans-serif;
	}
	body p {
		font-size: 25px;
		font-family: "icomoon_splash", Trebuchet MS, Arial, Helvetica, sans-serif;
	}
		
	tr {
		vertical-align: top;
	}
	#popup {
		width:100%;
		max-width: 600px;
		height:550px;
		padding:20px;
		background-color:gainsboro;  
		border-style : solid;	
		position:fixed;
		top : 5%;
		margin-left: 5px;
		margin-right: auto;
		left: 0;
		right: 0;
		text-align: center;
		display:none;
		overflow: scroll;
		z-index: 300;
	}
	
	#overlay {
			background-color: rgba(128, 128, 128, 0.4);
			z-index: 999;
			position: absolute;
			left: 0;
			top: 0;
			width: 100%;
			height: 100%;
			display: block;
		}â€‹

	</style>
 </head>

<script src="<%=media%>/js/jquery.min.js"></script>
<script type="text/javascript" src="<%=media%>/xhr.js"></script>
<script type="text/javascript">//<![CDATA[

var dualwifi = "0";
var hkey;
var show = 0;
var henable = "0";
var modemenabled = "0";
var modemstatus = "0";
var modcolor = '#ede3e3';
var ccnt = 1;
var dot = ".";

$( document ).ready(function() {
	var div=$('.rooterHeadBox');
	div.hide();
	div.css('opacity',1);
	div.fadeIn(2000);
	
	function anim(item,time){
		item.animate({
    		marginLeft: "20px",
    		marginRight: "20px",
  		}, time );
	}
	anim($('#rooterItem1'),100);
	anim($('#rooterItem2'),400);
	anim($('#rooterItem3'),700);
	anim($('#rooterItem4'),70);
	
	function gethotspot(data) {
		document.getElementById("wifiname").style.color = "inherit";
		document.getElementById("wifiencrypt").style.color = "inherit";
		henable = data.hotspot;
		state = data.state;

		if ( data.ssid == null )
		{
			document.getElementById("wifiname").innerHTML = "<%:---%>";
			document.getElementById("openap").innerHTML = "---";
		}
		else
		{
			document.getElementById("wifiname").innerHTML = data.ssid;
			document.getElementById("openap").innerHTML = document.getElementById("wifiname").innerHTML;
		}

		document.getElementById("wifistatus").style.color = "inherit";
		if ( state == null )
		{
			document.getElementById("wifistatus").innerHTML = "--";
			document.getElementById("wstatus").style.backgroundColor = 'inherit';
			document.getElementById("wname").style.backgroundColor = 'inherit';
			document.getElementById("wencrypt").style.backgroundColor = 'inherit';
		}
		else
		{
			freq = "&nbsp;&nbsp;&nbsp;( 2.4 Ghz )";
			if ( data.freq == "5" )
			{
				freq = "&nbsp;&nbsp;&nbsp;( 5.8 Ghz )";
			}
			if ( state == "0" )
			{
				document.getElementById("wifistatus").innerHTML = "<%:Disconnected%>" + freq;
				document.getElementById("wifistatus").style.color = 'white';
				document.getElementById("wstatus").style.backgroundColor = 'indianred';
				document.getElementById("wifiname").style.color = 'white';
				document.getElementById("wname").style.backgroundColor = 'indianred';
				document.getElementById("wifiencrypt").style.color = 'white';
				document.getElementById("wencrypt").style.backgroundColor = 'indianred';
			}
			if ( state == "1" )
			{
				document.getElementById("wifistatus").innerHTML = "<%:Connecting%>" + freq;
				document.getElementById("wifistatus").style.color = 'black';
				document.getElementById("wstatus").style.backgroundColor = 'lightcyan';
				document.getElementById("wifiname").style.color = 'black';
				document.getElementById("wname").style.backgroundColor = 'lightcyan';
				document.getElementById("wifiencrypt").style.color = 'black';
				document.getElementById("wencrypt").style.backgroundColor = 'lightcyan';
			}
			if ( state == "2" )
			{
				document.getElementById("wifistatus").innerHTML = "<%:Connected%>" + freq;
				document.getElementById("wifistatus").style.color = 'black';
				document.getElementById("wstatus").style.backgroundColor = 'lightgreen';
				document.getElementById("wifiname").style.color = 'black';
				document.getElementById("wname").style.backgroundColor = 'lightgreen';
				document.getElementById("wifiencrypt").style.color = 'black';
				document.getElementById("wencrypt").style.backgroundColor = 'lightgreen';
			}
		}
		document.getElementById("openwifi").innerHTML = document.getElementById("wifistatus").innerHTML; 
		if ( data.password == null )
		{
			document.getElementById("wifiencrypt").innerHTML = "--";
			document.getElementById("showbtn").disabled=true;
		}
		else
		{
			hkey = data.password;
			lenk = hkey.length;
			if ( show == 1 )
			{
				document.getElementById('wifiencrypt').innerHTML=hkey;
			}
			else
			{
				var star = "*";
				document.getElementById('wifiencrypt').innerHTML=star.repeat(lenk);
			}
			document.getElementById("showbtn").disabled=false;
		}
		if ( document.getElementById("wifipage").style.display == "block")
		{
			document.getElementById("wifipage3").style.display="block";
			document.getElementById("wifipage3").style.visibility="visible";
			document.getElementById("wifipage4").style.display="none";
			document.getElementById("wifipage4").style.visibility="hidden";
		}
		else
		{
			document.getElementById("wifipage4").style.display="none";
			document.getElementById("wifipage4").style.visibility="hidden";
			document.getElementById("wifipage3").style.display="none";
			document.getElementById("wifipage3").style.visibility="hidden";
		}
	}
	
	function doAjax() {
		var url='/cgi-bin/luci/admin/basic/getslide' ;
		$.ajax({
			type: 'GET',
			url: url,
			data: $(this).serialize(),
			dataType: 'json',
			success: function (data) {
				wizard = data.wizard;
				if ( wizard == "1" )
				{
					window.open('http://'+window.location.hostname+'/cgi-bin/luci/admin/basic/wizard', "_self")
				}
				else
				{
					document.getElementById("table1").style.display="block";
					document.getElementById("table1").style.visibility="visible";
					document.getElementById("table2").style.display="block";
					document.getElementById("table2").style.visibility="visible";
					document.getElementById("table3").style.display="block";
					document.getElementById("table3").style.visibility="visible";
					document.getElementById("overlay").style.display="none";
				}
				if ( data.wifi == "0")
				{
					document.getElementById("wifit").style.display="block";
					document.getElementById("wifit").style.visibility="visible";
					document.getElementById("wifit1").style.display="none";
					document.getElementById("wifit1").style.visibility="hidden";
				}
				else
				{
					document.getElementById("wifit1").style.display="block";
					document.getElementById("wifit1").style.visibility="visible";
					document.getElementById("wifit").style.display="none";
					document.getElementById("wifit").style.visibility="hidden";
				}
				document.getElementById("wifireconn").value=data.reconn;
				gethotspot(data); 
				if ( data.modem == "1")
				{
					document.getElementById("btntitle").innerHTML="<%:Connect%>";
					modemenabled = "1";
					document.getElementById("modemt").style.backgroundColor = modcolor;
				}
				else
				{
					document.getElementById("btntitle").innerHTML="<%:Disconnect%>";
					modemenabled = "0";
					document.getElementById("modemt").style.backgroundColor = '#fff';
				} 
				document.getElementById("openmodel").innerHTML = data.model;
				document.getElementById("opentime").innerHTML = data.time;
				document.getElementById("openfirm").innerHTML = data.firm;
				document.getElementById("openip").innerHTML = "&nbsp;<%:IP Address%> - " + data.ip;
				document.getElementById("openmac").innerHTML = "&nbsp;<%:MAC Address%> - " + data.mac;
				dis2 = "<%:Enabled%>";
				if ( data.disable2 == "1")
				{
					dis2 = "<%:Disabled%>";
				}
				
				atlen = document.getElementById("drop1").options.length;
				if (atlen <= 1 )
				{
					document.getElementById("drop1").options.length=0;
				}
				atlen = document.getElementById("drop1").options.length;
				x = document.getElementById("drop1");
				option = document.createElement("option");
				option.text = "2.4 Ghz";
				option.value = "0";
				x.add(option);
								
				document.getElementById("openenb2").innerHTML = "&nbsp;<%:Status%> - " + dis2;
				document.getElementById("openssid2").innerHTML = "&nbsp;<%:SSID%> - " + data.ssid2;
				document.getElementById("openchan2").innerHTML = "&nbsp;<%:Channel%> - " + data.channel2;
				if ( data.channel5 != "--" )
				{
					dualwifi = "1";
					option = document.createElement("option");
					option.text = "5.8 Ghz";
					option.value = "1";
					x.add(option);
					dis5 = "<%:Enabled%>";
					if ( data.disable5 == "1")
					{
						dis5 = "<%:Disabled%>";
					}
					document.getElementById("5Gheader").style.display="block";
					document.getElementById("5Gheader").style.visibility="visible";
					document.getElementById("openchan5").innerHTML = "&nbsp;<%:Channel%> - " + data.channel5;
					document.getElementById("openssid5").innerHTML = "&nbsp;<%:SSID%> - " + data.ssid5;
					document.getElementById("openenb5").innerHTML = "&nbsp;<%:Status%> - " + dis5;
				}
				if (data.freq == "2")
				{
					document.getElementById("drop1").value=0;
				}
				else
				{
					document.getElementById("drop1").value=1;
				}
			}

		});				
	}
	doAjax();
	document.getElementById("openpage").style.display="block";
	document.getElementById("openpage").style.visibility="visible";
	document.getElementById("openpage2").style.display="block";
	document.getElementById("openpage2").style.visibility="visible";
	
	var levels  ={};
	levels.rscp	=[-50, -70, -90, -100, -112, -136, -140];
	var names	={};
	names.rscp	=['High (3G) :High (4G)', 'Medium (3G) : High (4G)', 'Poor (3G) : Good (4G)', 'Weak (3G) : Medium (4G)', 'None (3G) : Poor (4G)', 'None'];
	
	function SetLevel(str,key){
		var desc=".";
		if(key in levels){
			var val = parseInt(str, 10);
			if (isNaN(val)) { val = 0 ; }
			var len = levels[key].length;
			for (var i = 0; i < len; i++) {
				if(val < levels[key][i]){
					if(key in names){
						desc=names[key][i];
					}
				}
			}
			str=desc;
		}
		return str;
	}
	
	function clearitem(key) {
		var name1="<b class='level_5'>";
		var name2="</b>";
		$("#msCell_"+key+" > span").html(name1+"--"+name2);
	}
	
	function setitem(key, value) {
		var name1="<b class='level_5'>";
		var name2="</b>";
		$("#msCell_"+key+" > span").html(name1+value+name2);
	}
	
	function setitemTitle(key, value, title) {
		var desc="<br><i class='msDesc'>"+title+"</i>";
		var name1="<b class='level_5'>";
		var name2="</b>"+desc;
		$("#msCell_"+key+" > span").html(name1+value+name2);
	}
	
	function simerror(simerr) {
		if (simerr == "1")
		{
			setitem("sim", "<%:SIM is locked with no SIM Pin entered in Profile!!%>");
		}
		else
		{
			if (simerr == "2")
			{
				setitem("sim", "<%:Incorrect Pin to Unlock SIM%>");
			}
			else
			{
				if (simerr == "3")
				{
					setitem("sim", "<%:SIM is Missing%>");
				} else
				{
					if (simerr == "4")
					{
						setitem("sim", "<%:Okay%>");
					}
					else
					{
						setitem("sim", "<%:--%>");
					}
				}
			}
		}
	}
	
	function doModem() {
		var url='/cgi-bin/luci/admin/basic/getmodem' ;
		$.ajax({
			type: 'GET',
			url: url,
			data: $(this).serialize(),
			dataType: 'json',
			success: function (data) {
				document.getElementById("opentime").innerHTML = data.time;
				document.getElementById("openext").innerHTML = data.extip;
				if ( data.status == "0" )
				{
					document.getElementById("btntitle").innerHTML = "<%:Connect%>";
					modemenabled = "0";
					document.getElementById("modemt").style.backgroundColor = modcolor;
				}
				else
				{
					document.getElementById("btntitle").innerHTML = "<%:Disconnect%>";
					modemenabled = "1";
					document.getElementById("modemt").style.backgroundColor = '#fff';
				}
				modemstatus = data.status;
				if ( data.status == "0")
				{
					key = "connect";
					value="<%:Disconnected%>";
					setitem(key, value);
					clearitem("provider");clearitem("band");clearitem("sim");
					clearitem("rscp");clearitem("rsrq");
					//document.getElementById("btntitle").innerHTML = "<%:Modem Disabled%>";
					//modemenabled = "1";
				}
				if ( data.status == "1")
				{
					ccnt = ccnt+1;
					if (ccnt > 3 )
					{
						ccnt = 1;
					} 
					key = "connect";
					value="<%:Connecting%> " + dot.repeat(ccnt);
					setitem(key, value);
					clearitem("provider");clearitem("band");clearitem("sim");
					clearitem("rscp");clearitem("rsrq");
				}
				if ( data.status == "2")
				{
					key = "connect";
					value="<%:Connecting%>";
					setitem(key, value);
					clearitem("provider");clearitem("band");simerror(data.simerr);
					clearitem("rscp");clearitem("rsrq");
				}
				if ( data.status == "3")
				{
					ccnt = ccnt+1;
					if (ccnt > 3 )
					{
						ccnt = 1;
					} 
					key = "connect";
					value="<%:Connected%> " + dot.repeat(ccnt);
					setitem(key, value);
					clearitem("provider");clearitem("band");simerror(data.simerr);
					clearitem("rscp");clearitem("rsrq");
				}
				if ( data.status == "4")
				{
					key = "connect";
					value="<%:Connected%>";
					setitem(key, value);
					setitem("provider", data.cops);
					setitem("band", data.lband);
					var lvl = SetLevel(data.rscp,"rscp");
					setitemTitle("rscp", data.rscp, lvl);
					setitemTitle("rsrq", data.ecio, "&nbsp;");
					simerror(data.simerr);
				}
				document.getElementById("openmodem").innerHTML = value;
				if ( data.state == "0")
				{
					document.getElementById("wifit").style.display="block";
					document.getElementById("wifit").style.visibility="visible";
					document.getElementById("wifit1").style.display="none";
					document.getElementById("wifit1").style.visibility="hidden";
				}
				else
				{
					document.getElementById("wifit1").style.display="block";
					document.getElementById("wifit1").style.visibility="visible";
					document.getElementById("wifit").style.display="none";
					document.getElementById("wifit").style.visibility="hidden";
				}
				
				gethotspot(data);
				document.getElementById("wifireconn").value=data.reconn;
			},
			complete: function (data) {
				setTimeout(doModem, 100);
			}

		});				
	}
	setTimeout(doModem, 100);
	
}); 
		
	function status(event)
	{
		window.open('http://'+window.location.hostname+'/cgi-bin/luci/admin/status/overview', "_self")
	}
	
	function statuspage(event)
	{
		document.getElementById("openpage").style.display="block";
		document.getElementById("openpage").style.visibility="visible";
		//document.getElementById("openpage1").style.display="block";
		//document.getElementById("openpage1").style.visibility="visible";
		document.getElementById("openpage2").style.display="block";
		document.getElementById("openpage2").style.visibility="visible";
		
		document.getElementById("modempage").style.display="none";
		document.getElementById("modempage").style.visibility="hidden";
		document.getElementById("modempage1").style.display="none";
		document.getElementById("modempage1").style.visibility="hidden";
		document.getElementById("modempage2").style.display="none";
		document.getElementById("modempage2").style.visibility="hidden";
		document.getElementById("modemt").style.display="none";
		document.getElementById("modemt").style.visibility="hidden";
		
		document.getElementById("wifipage").style.display="none";
		document.getElementById("wifipage").style.visibility="hidden";
		document.getElementById("wifipage1").style.display="none";
		document.getElementById("wifipage1").style.visibility="hidden";
		document.getElementById("wifipage2").style.display="none";
		document.getElementById("wifipage2").style.visibility="hidden";
		document.getElementById("wifipage3").style.display="none";
		document.getElementById("wifipage3").style.visibility="hidden";
		document.getElementById("wifipage4").style.display="none";
		document.getElementById("wifipage4").style.visibility="hidden";
		document.getElementById("wifit").style.display="none";
		document.getElementById("wifit").style.visibility="hidden";
	}
	
	function modemCheck(set) {
		var url='/cgi-bin/luci/admin/basic/setmodem?set=' + set;
		$.ajax({
			type: 'GET',
			url: url,
			data: $(this).serialize(),
			dataType: 'json',
			success: function (data) {
				
			}

		});				
	}
	
	function wifiCheck() {
		set="0";
		var url='/cgi-bin/luci/admin/basic/setwifi?set=' + set;
		$.ajax({
			type: 'GET',
			url: url,
			data: $(this).serialize(),
			dataType: 'json',
			success: function (data) {

			}

		});				
	}
	
	function clkenable(btn)
	{
		if ( modemenabled == "0" )
		{
			set = 1;
			modemenabled = "1";
		}
		else
		{
			set = 0;
			modemenabled = "0";
		}
		modemCheck(set);
	}
	
	function modem(btn)
	{
		document.getElementById("openpage").style.display="none";
		document.getElementById("openpage").style.visibility="hidden";
		//document.getElementById("openpage1").style.display="none";
		//document.getElementById("openpage1").style.visibility="hidden";
		document.getElementById("openpage2").style.display="none";
		document.getElementById("openpage2").style.visibility="hidden";
		
		document.getElementById("modempage").style.display="block";
		document.getElementById("modempage").style.visibility="visible";
		document.getElementById("modempage1").style.display="block";
		document.getElementById("modempage1").style.visibility="visible";
		document.getElementById("modempage2").style.display="block";
		document.getElementById("modempage2").style.visibility="visible";
		document.getElementById("modemt").style.display="block";
		document.getElementById("modemt").style.visibility="visible";
		
		document.getElementById("wifipage").style.display="none";
		document.getElementById("wifipage").style.visibility="hidden";
		document.getElementById("wifipage1").style.display="none";
		document.getElementById("wifipage1").style.visibility="hidden";
		document.getElementById("wifipage2").style.display="none";
		document.getElementById("wifipage2").style.visibility="hidden";
		document.getElementById("wifipage3").style.display="none";
		document.getElementById("wifipage3").style.visibility="hidden";
		document.getElementById("wifipage4").style.display="none";
		document.getElementById("wifipage4").style.visibility="hidden";
		document.getElementById("wifit").style.display="none";
		document.getElementById("wifit").style.visibility="hidden";
	}
	
	function wifi(btn)
	{
		document.getElementById("openpage").style.display="none";
		document.getElementById("openpage").style.visibility="hidden";
		//document.getElementById("openpage1").style.display="none";
		//document.getElementById("openpage1").style.visibility="hidden";
		document.getElementById("openpage2").style.display="none";
		document.getElementById("openpage2").style.visibility="hidden";
		
		document.getElementById("modempage").style.display="none";
		document.getElementById("modempage").style.visibility="hidden";
		document.getElementById("modempage1").style.display="none";
		document.getElementById("modempage1").style.visibility="hidden";
		document.getElementById("modempage2").style.display="none";
		document.getElementById("modempage2").style.visibility="hidden";
		document.getElementById("modemt").style.display="none";
		document.getElementById("modemt").style.visibility="hidden";
		
		document.getElementById("wifipage").style.display="block";
		document.getElementById("wifipage").style.visibility="visible";
		document.getElementById("wifipage1").style.display="block";
		document.getElementById("wifipage1").style.visibility="visible";
		document.getElementById("wifipage2").style.display="block";
		document.getElementById("wifipage2").style.visibility="visible";
		document.getElementById("wifipage3").style.display="block";
		document.getElementById("wifipage3").style.visibility="visible";
		document.getElementById("wifipage4").style.display="none";
		document.getElementById("wifipage4").style.visibility="hidden";
		document.getElementById("wifit").style.display="none";
		document.getElementById("wifit").style.visibility="hidden";
		document.getElementById("wifit1").style.display="none";
		document.getElementById("wifit1").style.visibility="hidden";
	}
	
	function changeradio() {
		document.getElementById("scanlist").style.display="none";
		document.getElementById("scanlist").style.visibility="hidden";
	}
	
	function scanlist() {
		fval = document.getElementById("drop1").value;
		set = 2;
		if (fval == "1" )
		{
			set = 5;
		}
		
		document.getElementById("exitscan").style.display="none";
		document.getElementById("exitscan").style.visibility="hidden";
		document.getElementById("scan").disabled=true;
		document.getElementById("drop1").disabled=true;
		document.getElementById("scanlist").style.display="none";
		document.getElementById("scanlist").style.visibility="hidden";
		document.getElementById("loading").innerHTML = "<img src='<%=resource%>/icons/loading.gif' /> <%:Collecting data...%>";
		
		var url='/cgi-bin/luci/admin/basic/getlist?set=' + set;
		$.ajax({
			type: 'GET',
			url: url,
			data: $(this).serialize(),
			dataType: 'json',
			success: function (data) {
				if ( data.listssid == "0" )
				{
					document.getElementById("scanlist").innerHTML = "<%:No Access Points Found%>";
				}
				else
				{
					document.getElementById("scanlist").innerHTML = data.listssid;
				}
				document.getElementById("scanlist").style.display="block";
				document.getElementById("scanlist").style.visibility="visible";
				document.getElementById("scan").disabled=false;
				document.getElementById("drop1").disabled=false;
				document.getElementById("exitscan").style.display="block";
				document.getElementById("exitscan").style.visibility="visible";
				document.getElementById("loading").innerHTML = "<%:Available Wifi Hotspots%>";
			}

		});		
	}
	
	function addlist(id) {
		done();
		fval = document.getElementById("drop1").value;
		if (fval == "1" )
		{
			fval = 5;
		}
		else
		{
			fval = 2;
		}
		var arr=(id.split("|"));
		enrc = arr[1];
		if ( enrc == "none" )
		{
			pass = "none";
		}
		else
		{
			pass = document.getElementById("pass" + arr[0]).value;
		}
		cdata = fval + "|" + id + "|" + pass;
		hdata = id + "|" + pass;
		set=arr[0]+"|"+pass;

		var urlk='/cgi-bin/luci/admin/basic/setkey?set=' + set;
		$.ajax({
			type: 'GET',
			url: urlk,
			data: $(this).serialize(),
			dataType: 'json',
			success: function (data) {

			}

		});	
		
		var urlh='/cgi-bin/luci/admin/services/addtolist?set=' + hdata;
		$.ajax({
			type: 'GET',
			url: urlh,
			data: $(this).serialize(),
			dataType: 'json',
			success: function (data) {
				
			}

		});	

		var url='/cgi-bin/luci/admin/basic/connect?set=' + cdata;
		$.ajax({
			type: 'GET',
			url: url,
			data: $(this).serialize(),
			dataType: 'json',
			success: function (data) {
				
			}

		});	
	}
	
	function showkey() {
		if ( show == 1 )
		{
			show = 0;
		}
		else
		{
			show = 1;
		} 
	}
	
	function autoenable(btn) {
		set = btn.value;
		var url='/cgi-bin/luci/admin/basic/setreconn?set=' + set;
		$.ajax({
			type: 'GET',
			url: url,
			data: $(this).serialize(),
			dataType: 'json',
			success: function (data) {

			}

		});	
	}
	
	function done() { 
		document.getElementById("popup").style.display = "none";
	}
	
	function unlock(btn)
	{
		document.getElementById("popup").style.display = "block";
		
		scanlist();
		
	}
	
	function showpass(id) {
		passid = id.substring(1);
		var x = document.getElementById(passid);
		if (x.type === "password") {
			x.type = "text";
		} else {
			x.type = "password";
		}
		return true;
	}
	
	function addkey(id) {
		var arrid = id.split("|");
		ssid = arrid[1];
		pass = document.getElementById("pass" + arrid[1]).value;
		set=ssid+"|"+pass;
		seth = ssid + "|" + arrid[2] + "|" + pass
		var url='/cgi-bin/luci/admin/basic/setkey?set=' + set;
		$.ajax({
			type: 'GET',
			url: url,
			data: $(this).serialize(),
			dataType: 'json',
			success: function (data) {

			}

		});	
		var urlh='/cgi-bin/luci/admin/services/addtolist?set=' + seth;
		$.ajax({
			type: 'GET',
			url: urlh,
			data: $(this).serialize(),
			dataType: 'json',
			success: function (data) {
				
			}

		});	
	}
	
// 	document.getElementById("attxt").value="<%=resource%>";
	
//]]></script>


<body id='rooterSplashHome' class='rooterSplash'>

<form method="post" action="<%=REQUEST_URI%>">
<div class="cbi-map" id="cbi-basic">
	<div class="overlay" id="overlay">
		<table border="1" width="100%">
			<tr>
				<td style="vertical-align:middle;text-align: center;height:900px;"><img src="<%=resource%>/icons/loading.gif"  width="100" height="100"/></td>
			</tr>
		</table>

	</div>
	
	
	<div id="popup">
		<table border="0">
			<tr>
				<td width="175px">&nbsp;</td>
				<td width="250px">
					<div class="rooterItem" onclick="return done()" id="exitscan">
						<div class="rooterItemTitle"><i class='icon icon-power-off'></i> <%:Exit Scan%></div>
					</div>
				</td>
				<td width="175px">&nbsp;</td>
			</tr>
			<tr>
				<table border="0">
					<tr>
						<td  id="loading" style="vertical-align:middle;font-size:20px;"><img src="<%=resource%>/icons/loading.gif" /> <%:Collecting data...%></td>
					</tr>
				</table>
			</tr>
			<tr>
				<table border="0">
					<tr>
						<td><div id="scanlist"></div></td>
					</tr>
				</table>
			</tr>
		</table>
	</div>
	
	<table width="620" border="0" id="table1" style="visibility:hidden;display:none">
		<tr>
			<td width="600">
				<div class='rooterPageHead'>
					<div class='rooterHeadBox'>
					<div class='rooterLogo'></div>
					&nbsp;
					</div>
				</div>
			</td>
			<td width="20">&nbsp;</td>
		</tr>
	</table>
</div>

<table border="0">
	<tr>
		<td>&nbsp;</td>
	</tr>
</table>

<table width="940" border="0" class="adminPageHead" id="table2" style="visibility:hidden;display:none">
	<!-- Top buttons -->
	<tr>
		<td width="300">
			<div class="rooterItem" id="rooterItem4" onclick="return statuspage(this)">
				<div class="rooterItemTitle"><i class='icon icon-home'></i> <%:Home%></div>
			</div>
		</td>
		<td width="300">
			<div class="rooterItem" id="rooterItem3" onclick="return status(this)">
				<div class="rooterItemTitle"><i class='icon icon-cog'></i> <%:Router Settings%></div>
			</div>
		</td>
		<td width="340">&nbsp;</td>
	</tr>
	<tr>
		<td>
			<div class="rooterItem" id="rooterItem1" onclick="return modem(this)">
				<div class="rooterItemTitle" style="font-size:15px;"><i class='icon icon-signal'></i> <%:Internet via Modem%></div>
			</div>
		</td>
		<td>
			<div class="rooterItem" id="rooterItem2" onclick="return wifi(this)">
				<div class="rooterItemTitle"><i class='icon icon-wifi'></i> <%:Internet via external Wifi%></div>
			</div>
		</td>
		<td>&nbsp;</td>
	</tr>
</table>
<table width="1400" border="0" id="table3" style="visibility:hidden;display:none">
	<!-- Home page info -->
	<tr id="openpage">
	<!-- Home page header -->
		<td width="700">
			<div class='diagHeadBox'>
				<div class='diagTagline' ><%:World Traveller Easy Basic Menu%></div>
			</div>
		</td>
	<!--	<td width="500">&nbsp;</td> -->
	</tr>
	<tr id="openpage2">
	
	<!-- Home page info -->
	
		<td width="900">
			<table width="900" border="0">
				<!-- first line -->
				<tr width="900">
					<td bgcolor="#6495ED" width="290px" style="color:white;text-align:left;font-size:20px;">
						<div><img src="<%=resource%>/basic/img/stat.jpg">    <%:Router%></div>
					</td>
					<td width="10px">
						<div>&nbsp;</div>
					</td>
					<td bgcolor="#6495ED" width="290px" style="color:white;text-align:left;font-size:18px;">
						<div><img src="<%=resource%>/basic/img/sys.jpg"> <%:System%></div>
					</td>
					<td width="300px">&nbsp;</td>
				</tr>
				<tr>
				<!-- first line info -->
					<td bgcolor="#foffff" style="color:black;text-align:center;font-size:16px;">
						<div id="openmodel"></div>
					</td>
					<td>
						<div>&nbsp;</div>
					</td>
					<td bgcolor="#foffff" style="color:black;text-align:center;font-size:14px;">
						<div id="openfirm"></div>
						<span id="opentime"></span>
					</td>
					<td>
						<div>&nbsp;</div>
					</td>
				</tr>
				<tr>
					<td bgcolor="#6495ED" style="color:white;text-align:left;font-size:18px;">
						<div><img src="<%=resource%>/basic/img/lan.jpg"> <%:LAN%></div>
					</td>
					<td>&nbsp;</td>
					<td bgcolor="#6495ED" width="290px" style="color:white;text-align:left;font-size:18px;">
						<div><img src="<%=resource%>/basic/img/lan.jpg"> <%:External Internet IP Address%></div>
					</td>
					<td>&nbsp;</td>
				</tr>
				<tr>
				<!-- first line info -->
					<td bgcolor="#foffff" style="color:black;text-align:left;font-size:14px;">
						<div id="openip"></div>
						<span id="openmac"></span>
					</td>
					<td>&nbsp;</td>
					<td bgcolor="#foffff" style="color:black;text-align:center;font-size:16px;">
						<div id="openext"></div>
					</td>
					<td>&nbsp;</td>
				</tr>
				<tr>
				<!-- second line -->
					<td bgcolor="#6495ED" style="color:white;text-align:left;font-size:20px;">
						<div><img src="<%=resource%>/basic/img/wifi.jpg">    <%:Wireless%> 2.4G</div>
					</td>
					<td>
						<div>&nbsp;</div>
					</td>
					<td bgcolor="#6495ED" id="5Gheader" style="color:white;text-align:left;font-size:20px;visibility:hidden;display:none">
						<div><img src="<%=resource%>/basic/img/wifi.jpg"> <%:Wireless%> 5G</div>
					</td>
					<td>
						<div>&nbsp;</div>
					</td>
				</tr>
				<tr>
				<!-- second line info -->
					<td bgcolor="#f0ffff" style="color:black;text-align:left;font-size:14px;">
						<div id="openenb2"></div>
						<span id="openssid2"></span>
					</td>
					<td>
						<div>&nbsp;</div>
					</td>
					<td bgcolor="#f0ffff" style="color:black;text-align:left;font-size:14px;">
						<div id="openenb5"></div>
						<span id="openssid5"></span>
					</td>
					<td>
						<div>&nbsp;</div>
					</td>
				</tr>
				<tr>
				<!-- second line info -->
					<td bgcolor="#f0ffff" style="color:black;text-align:left;font-size:14px;">
						<span id="openchan2"></span>
					</td>
					<td>
						<div>&nbsp;</div>
					</td>
					<td bgcolor="#f0ffff" style="color:black;text-align:left;font-size:14px;">
						<span id="openchan5"></span>
					</td>
					<td>
						<div>&nbsp;</div>
					</td>
				</tr>
				<!-- third line -->
				<tr width="900">
					<td bgcolor="#6495ED" width="290px" style="color:white;text-align:left;font-size:20px;">
						<div><img src="<%=resource%>/basic/img/internet.jpg">    <%:Internet via Modem%> <%:Status%></div>
					</td>
					<td width="10px">
						<div>&nbsp;</div>
					</td>
					<td bgcolor="#6495ED" width="290px" style="color:white;text-align:left;font-size:18px;">
						<div><img src="<%=resource%>/basic/img/hotspot.jpg"> <%:Internet via external Wifi%> <%:Status%></div>
					</td>
				</tr>
				<tr>
				<!-- third line info -->
					<td bgcolor="#foffff" style="color:black;text-align:center;font-size:16px;">
						<div id="openmodem"></div>
					</td>
					<td>
						<div>&nbsp;</div>
					</td>
					<td bgcolor="#foffff" style="color:black;text-align:center;font-size:14px;">
						<div id="openwifi"></div>
						<span id="openap"></span>
					</td>
				</tr>
			</table>
		</td>
	</tr>
	
	<!-- Modem Page -->
	
	<tr id="modempage" style="visibility:hidden;display:none">
	<!-- Modem page header -->
		<td>
			<div class='diagHeadBox'>
				<div class='diagTagline'><%:Modem Internet%></div>
			</div>
		</td>
	</tr>
	<tr id="modempage1" style="visibility:hidden;display:none">
		<td>
			<table width="900" border="0">
				<tr>
					<td  width="200" style="color:black;text-align:center;font-size:20px;" >
						<span><strong><%:Connect or Disconnect the Modem%></strong></span>
					</td>
					<td width="200">
						<div class="rooterItem" id="modemt" onclick="return clkenable(this)">
							<div class="rooterItemTitle"><i class='icon icon-power-off'></i><i id="btntitle"><%:Enable%></i></div>
						</div>
					</td>
					<td width="350">
						<div>&nbsp;</div>
					</td>
				</tr>
			</table
		</td>
	</tr> 
	<tr id="modempage2" style="visibility:hidden;display:none">
		<td>
			<table width="900" border="0">
			<!-- first line -->
				<tr>
					<td width="260">
						<div class='modemStatusRow modemStatusRow1'>
							<div class='msCell' id='msCell_connect'>
								<div class='msTitle'><%:Connection Status%></div>
								<span>-</span>
							</div>
						</div>
					</td>
					<td width="260">
						<div class='modemStatusRow modemStatusRow1'>
							<div class='msCell' id='msCell_provider'>
								<div class='msTitle'><%:Provider%></div>
								<span>-</span>
							</div>
						</div>
					</td>
					<td width="342">
						<div>&nbsp;</div>
					</td>
				</tr>
				<tr>
					<td>
						<div class='modemStatusRow modemStatusRow1'>
						<div class='msCell' id='msCell_sim'>
							<div class='msTitle'><%:SIM Error Status%></div>
							<span>-</span>
							</div>
						</div>
					</td>
					<td>
						<div class='modemStatusRow modemStatusRow1'>
							<div class='msCell' id='msCell_band'>
								<div class='msTitle'><%:Bands%></div>
								<span>-</span>
							</div>
						</div>
					</td>
				</tr>
				<tr>
					<td>
						<div class='modemStatusRow modemStatusRow1'>
							<div class='msCell' id='msCell_rscp'>
								<div class='msTitle'>RSCP (dBm) RSRP</div>
								<span>-</span>
							</div>
						</div>
					</td>
					<td>
						<div class='modemStatusRow modemStatusRow1'>
							<div class='msCell' id='msCell_rsrq'>
								<div class='msTitle'>ECIO (dB) RSRQ</div>
								<span>-</span>
							</div>
						</div>
					</td>
				</tr>
			</table>
		</td>
	</tr>
	
	<!-- Wifi Page -->
	
	<tr id="wifipage" style="visibility:hidden;display:none">
	<!-- Modem page header -->
		<td>
			<div class='diagHeadBox'>
				<div class='diagTagline'><%:Wifi Internet%></div>
			</div>
		</td>
	</tr>
	<tr id="wifipage1" style="visibility:hidden;display:none">
		<td>
			<table width="900" border="0">
				<tr>
					<td  width="300" style="color:black;text-align:left;font-size:20px;">
						<strong><%:Wifi Internet Status%></strong>
							<span class="blankItem" style="visibility:hidden;display:none" id="wifit" >
							<label class="switch">
								<img src="<%=showicon(0)%>">
							</label> 
						</span>
						<span class="blankItem" style="visibility:hidden;display:none;" id="wifit1" >
							<label class="switch">
								<img src="<%=showicon(1)%>">
							</label> 
						</span>
					</td>
					<td width="250">
						<div class="rooterItem" id="rooterItem4" onclick="return wifiCheck()">
							<div class="rooterItemTitle"><i class='icon icon-power-off'></i><%:Disconnect%></div>
						</div>
					</td>
					<td width="350">
						<div>&nbsp;</div>
					</td>
				</tr>
				<tr>
					<td style="color:black;text-align:left;font-size:20px;">
						<div><strong><%:Reconnection Attempts%></strong></div>
					</td>
					<td>
						<select style="width:150px;font-size:20px" name="wifireconn" id="wifireconn" onchange="autoenable(this)">
						<option value="0" selected="selected"><%:None%></option>
						<option value="1"><%:1%></option>
						<option value="5"><%:5%></option>
						<option value="99"><%:Continuous%></option>
						</select>
					</td>
					<td>
						<div>&nbsp;</div>
					</td>
				</tr>
			</table
		</td>
	</tr>
	<tr id="wifipage2" style="visibility:hidden;display:none">
		<td>
			<table width="900" border="0">
				<tr>
					<td width="10px">
						<div>&nbsp;</div>
					</td>
					<td bgcolor="#6495ED" width="270px" style="color:white;text-align:left;font-size:20px;">
						<div><img src="<%=resource%>/basic/img/wifi.jpg">    <%:Current Hotspot%></div>
					</td>
					<td width="10px">
						<div>&nbsp;</div>
					</td>
					<td width="220px">
						<div>&nbsp;</div>
					</td>
					<td width="390px">
						<div>&nbsp;</div>
					</td>
				</tr>
				<tr>
					<td>
						<div>&nbsp;</div>
					</td>
					<td bgcolor="#f0ffff" id="wname" style="color:black;text-align:center;font-size:14px;">
						<div id="wifiname"></div>
					</td>
				</tr>
				<tr>
					<td>
						<div>&nbsp;</div>
					</td>
				</tr>
				<tr>
					<td>
						<div>&nbsp;</div>
					</td>
					<td bgcolor="#6495ED" style="color:white;text-align:left;font-size:18px;">
						<div><img src="<%=resource%>/basic/img/sys.jpg"> <%:Status%></div>
					</td>
					<td>
						<div>&nbsp;</div>
					</td>
					<td bgcolor="#6495ED" style="color:white;text-align:left;font-size:18px;">
						<div><img src="<%=resource%>/basic/img/lan.jpg"> <%:Password%></div>
					</td>
					<td>
						<div>&nbsp;</div>
					</td>
				</tr>
				<tr>
					<td>
						<div>&nbsp;</div>
					</td>
					<td bgcolor="#f0ffff" id="wstatus" style="color:black;text-align:center;font-size:14px;">
						<div id="wifistatus"></div>
					</td>
					<td>
						<div>&nbsp;</div>
					</td>
					<td bgcolor="#f0ffff" id="wencrypt" style="color:black;text-align:center;font-size:14px;">
						<div id="wifiencrypt"></div>
					</td>
					<td>
						<input type="button" id="showbtn" class="cbi-button cbi-button-apply" value="<%:<-->%>" onclick="return showkey()" />
					</td>
				</tr>
				<tr>
					<td>
						<div>&nbsp;</div>
					</td>
				</tr>
			</table>
		</td>
	</tr>
	<tr id="wifipage3" style="visibility:hidden;display:none">
		<td>
			<table width="900px" border="0">
				<tr>
					<td width="10px">
						<div>&nbsp;</div>
					</td>
					<td width="220px" style="color:black;text-align:left;font-size:20px;"><div align="left"><strong><%:Scan Frequency%></strong></div>
					<td width="10px">
						<div>&nbsp;</div>
					</td>
					<td width="250px">
						<div>&nbsp;</div>
					</td>
					<td width="360px">
						<div>&nbsp;</div>
					</td>
				</tr>
				<tr>
					<td>
						<div>&nbsp;</div>
					</td>
					<td>
						<select style="width:220px;font-size:20px" onchange="changeradio()" name="atdrop" id="drop1">
						</select>
					</td>
					<td width="10px"><div align="right">&nbsp;</div></td>
					
					<td width="350px">
						<div class="rooterItem" id="scan" onclick="return unlock(this)">
							<div class="rooterItemTitle"><i class='icon icon-earth'></i> <%:Scan for Access Points%></div>
						</div>
					</td>
				</tr>
			</table>
			
	<tr id="wifipage4" style="visibility:hidden;display:none">
		<td>
			<table width="600" border="0">
				<tr>
					<td width="590px" style="color:red;text-align:left;font-size:25px;visibility:hidden;display:none"><span>&nbsp;</span><div align="center"><strong><%:Disabled because Wifi Hotspot Manager is Active%></strong></div></td>
					<td width="10px"><div align="right">&nbsp;</div></td>
				</tr>
			</table>
		</td>
	</tr>
	
</table>

<!-- visibility:hidden;display:none -->
<table id="cmdtxt" width="700"  border="0" style="display:table;visibility:hidden;display:none">
  	<tr>
    	<td width="100%">
		<textarea readonly="readonly" name="attxt" id="attxt" rows="6" style="width: 600px;" maxlength="160"></textarea>
		</td>
	</tr>
	</table>

</div>
</form>
 </body>
</html>

