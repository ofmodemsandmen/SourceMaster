<%+header%>
<%-
-%>
<script type="text/javascript" src="<%=resource%>/xhr.js"></script>
<script type="text/javascript">//<![CDATA[

var dual;
var tworadio;
var twodisabled;
var twonoscan;
var twomode;
var twossid;
var twokey;
var twoencryption;
var twochannel;
var twohtmode;
var twohmode;
var twocurrtx;
var twotxcnt;
var twocountry;

var fiveradio;
var fivedisabled;
var fivenoscan;
var fivemode;
var fivessid;
var fivekey;
var fiveencryption;
var fivechannel;
var fivehtmode;
var fivehmode;
var fivecurrtx;
var fivetxcnt;
var fivecountry;

let countryarr = [
"00 - World",
"AF - Afghanistan",
"AX - Ã…land Islands",
"AL - Albania",
"DZ - Algeria",
"AS - American Samoa",
"AD - AndorrA",
"AO - Angola",
"AI - Anguilla",
"AQ - Antarctica",
"AG - Antigua and Barbuda",
"AR - Argentina",
"AM - Armenia",
"AW - Aruba",
"AU - Australia",
"AT - Austria",
"AZ - Azerbaijan",
"BS - Bahamas",
"BH - Bahrain",
"BD - Bangladesh",
"BB - Barbados",
"BY - Belarus",
"BE - Belgium",
"BZ - Belize",
"BJ - Benin",
"BM - Bermuda",
"BT - Bhutan",
"BO - Bolivia",
"BA - Bosnia and Herzegovina",
"BW - Botswana",
"BV - Bouvet Island",
"BR - Brazil",
"IO - British Indian Ocean Territory",
"BN - Brunei Darussalam",
"BG - Bulgaria",
"BF - Burkina Faso",
"BI - Burundi",
"KH - Cambodia",
"CM - Cameroon",
"CA - Canada",
"CV - Cape Verde",
"KY - Cayman Islands",
"CF - Central African Republic",
"TD - Chad",
"CL - Chile",
"CN - China",
"CX - Christmas Island",
"CC - Cocos (Keeling) Islands",
"CO - Colombia",
"KM - Comoros",
"CG - Congo",
"CD - Congo, The Democratic Republic of the",
"CK - Cook Islands",
"CR - Costa Rica",
"CI - Cote D'Ivoire",
"HR - Croatia",
"CU - Cuba",
"CY - Cyprus",
"CZ - Czech Republic",
"DK - Denmark",
"DJ - Djibouti",
"DM - Dominica",
"DO - Dominican Republic",
"EC - Ecuador",
"EG - Egypt",
"SV - El Salvador",
"GQ - Equatorial Guinea",
"ER - Eritrea",
"EE - Estonia",
"ET - Ethiopia",
"FK - Falkland Islands (Malvinas)",
"FO - Faroe Islands",
"FJ - Fiji",
"FI - Finland",
"FR - France",
"GF - French Guiana",
"PF - French Polynesia",
"TF - French Southern Territories",
"GA - Gabon",
"GM - Gambia",
"GE - Georgia",
"DE - Germany",
"GH - Ghana",
"GI - Gibraltar",
"GR - Greece",
"GL - Greenland",
"GD - Grenada",
"GP - Guadeloupe",
"GU - Guam",
"GT - Guatemala",
"GG - Guernsey",
"GN - Guinea",
"GW - Guinea-Bissau",
"GY - Guyana",
"HT - Haiti",
"HM - Heard Island and Mcdonald Islands",
"VA - Holy See (Vatican City State)",
"HN - Honduras",
"HK - Hong Kong",
"HU - Hungary",
"IS - Iceland",
"IN - India",
"ID - Indonesia",
"IR - Iran, Islamic Republic Of",
"IQ - Iraq",
"IE - Ireland",
"IM - Isle of Man",
"IL - Israel",
"IT - Italy",
"JM - Jamaica",
"JP - Japan",
"JE - Jersey",
"JO - Jordan",
"KZ - Kazakhstan",
"KE - Kenya",
"KI - Kiribati",
"KP - Korea, Democratic People'S Republic of",
"KR - Korea, Republic of",
"KW - Kuwait",
"XK - Kosovo",
"KG - Kyrgyzstan",
"LA - Lao People'S Democratic Republic",
"LV - Latvia",
"LB - Lebanon",
"LS - Lesotho",
"LR - Liberia",
"LY - Libyan Arab Jamahiriya",
"LI - Liechtenstein",
"LT - Lithuania",
"LU - Luxembourg",
"MO - Macao",
"MK - North Macedonia",
"MG - Madagascar",
"MW - Malawi",
"MY - Malaysia",
"MV - Maldives",
"ML - Mali",
"MT - Malta",
"MH - Marshall Islands",
"MQ - Martinique",
"MR - Mauritania",
"MU - Mauritius",
"YT - Mayotte",
"MX - Mexico",
"FM - Micronesia, Federated States of",
"MD - Moldova, Republic of",
"MC - Monaco",
"MN - Mongolia",
"MS - Montserrat",
"MA - Morocco",
"MZ - Mozambique",
"MM - Myanmar",
"NA - Namibia",
"NR - Nauru",
"NP - Nepal",
"NL - Netherlands",
"AN - Netherlands Antilles",
"NC - New Caledonia",
"NZ - New Zealand",
"NI - Nicaragua",
"NE - Niger",
"NG - Nigeria",
"NU - Niue",
"NF - Norfolk Island",
"MP - Northern Mariana Islands",
"NO - Norway",
"OM - Oman",
"PK - Pakistan",
"PW - Palau",
"PS - Palestinian Territory, Occupied",
"PA - Panama",
"PG - Papua New Guinea",
"PY - Paraguay",
"PE - Peru",
"PH - Philippines",
"PN - Pitcairn",
"PL - Poland",
"PT - Portugal",
"PR - Puerto Rico",
"QA - Qatar",
"RE - Reunion",
"RO - Romania",
"RU - Russian Federation",
"RW - RWANDA",
"SH - Saint Helena",
"KN - Saint Kitts and Nevis",
"LC - Saint Lucia",
"PM - Saint Pierre and Miquelon",
"VC - Saint Vincent and the Grenadines",
"WS - Samoa",
"SM - San Marino",
"ST - Sao Tome and Principe",
"SA - Saudi Arabia",
"SN - Senegal",
"CS - Serbia and Montenegro",
"SC - Seychelles",
"SL - Sierra Leone",
"SG - Singapore",
"SK - Slovakia",
"SI - Slovenia",
"SB - Solomon Islands",
"SO - Somalia",
"ZA - South Africa",
"GS - South Georgia and the South Sandwich Islands",
"ES - Spain",
"LK - Sri Lanka",
"SD - Sudan",
"SR - Suriname",
"SJ - Svalbard and Jan Mayen",
"SZ - Swaziland",
"SE - Sweden",
"CH - Switzerland",
"SY - Syrian Arab Republic",
"TW - Taiwan, Province of China",
"TJ - Tajikistan",
"TZ - Tanzania, United Republic of",
"TH - Thailand",
"TL - Timor-Leste",
"TG - Togo",
"TK - Tokelau",
"TO - Tonga",
"TT - Trinidad and Tobago",
"TN - Tunisia",
"TR - Turkey",
"TM - Turkmenistan",
"TC - Turks and Caicos Islands",
"TV - Tuvalu",
"UG - Uganda",
"UA - Ukraine",
"AE - United Arab Emirates",
"GB - United Kingdom",
"US - United States",
"UM - United States Minor Outlying Islands",
"UY - Uruguay",
"UZ - Uzbekistan",
"VU - Vanuatu",
"VE - Venezuela",
"VN - Viet Nam",
"VG - Virgin Islands, British",
"VI - Virgin Islands, U.S.",
"WF - Wallis and Futuna",
"EH - Western Sahara",
"YE - Yemen",
"ZM - Zambia",
"ZW - Zimbabwe"
];

let codearr = [
"00",
"AF",
"AX",
"AL",
"DZ",
"AS",
"AD",
"AO",
"AI",
"AQ",
"AG",
"AR",
"AM",
"AW",
"AU",
"AT",
"AZ",
"BS",
"BH",
"BD",
"BB",
"BY",
"BE",
"BZ",
"BJ",
"BM",
"BT",
"BO",
"BA",
"BW",
"BV",
"BR",
"IO",
"BN",
"BG",
"BF",
"BI",
"KH",
"CM",
"CA",
"CV",
"KY",
"CF",
"TD",
"CL",
"CN",
"CX",
"CC",
"CO",
"KM",
"CG",
"CD",
"CK",
"CR",
"CI",
"HR",
"CU",
"CY",
"CZ",
"DK",
"DJ",
"DM",
"DO",
"EC",
"EG",
"SV",
"GQ",
"ER",
"EE",
"ET",
"FK",
"FO",
"FJ",
"FI",
"FR",
"GF",
"PF",
"TF",
"GA",
"GM",
"GE",
"DE",
"GH",
"GI",
"GR",
"GL",
"GD",
"GP",
"GU",
"GT",
"GG",
"GN",
"GW",
"GY",
"HT",
"HM",
"VA",
"HN",
"HK",
"HU",
"IS",
"IN",
"ID",
"IR",
"IQ",
"IE",
"IM",
"IL",
"IT",
"JM",
"JP",
"JE",
"JO",
"KZ",
"KE",
"KI",
"KP",
"KR",
"KW",
"XK",
"KG",
"LA",
"LV",
"LB",
"LS",
"LR",
"LY",
"LI",
"LT",
"LU",
"MO",
"MK",
"MG",
"MW",
"MY",
"MV",
"ML",
"MT",
"MH",
"MQ",
"MR",
"MU",
"YT",
"MX",
"FM",
"MD",
"MC",
"MN",
"MS",
"MA",
"MZ",
"MM",
"NA",
"NR",
"NP",
"NL",
"AN",
"NC",
"NZ",
"NI",
"NE",
"NG",
"NU",
"NF",
"MP",
"NO",
"OM",
"PK",
"PW",
"PS",
"PA",
"PG",
"PY",
"PE",
"PH",
"PN",
"PL",
"PT",
"PR",
"QA",
"RE",
"RO",
"RU",
"RW",
"SH",
"KN",
"LC",
"PM",
"VC",
"WS",
"SM",
"ST",
"SA",
"SN",
"CS",
"SC",
"SL",
"SG",
"SK",
"SI",
"SB",
"SO",
"ZA",
"GS",
"ES",
"LK",
"SD",
"SR",
"SJ",
"SZ",
"SE",
"CH",
"SY",
"TW",
"TJ",
"TZ",
"TH",
"TL",
"TG",
"TK",
"TO",
"TT",
"TN",
"TR",
"TM",
"TC",
"TV",
"UG",
"UA",
"AE",
"GB",
"US",
"UM",
"UY",
"UZ",
"VU",
"VE",
"VN",
"VG",
"VI",
"WF",
"EH",
"YE",
"ZM",
"ZW"
];

var countrycnt = countryarr.length;

	XHR.get('<%=luci.dispatcher.build_url("admin", "network", "wifidata")%>',
		null,
		function(x, rv)
		{
			dual = rv.dual;
			
			document.getElementById("waiting").style.display="none";
			document.getElementById("waiting").style.visibility="hidden";
			
			document.getElementById("2gwifi").style.display="block";
			document.getElementById("2gwifi").style.visibility="visible";
			if ( dual == "1" )
			{
				document.getElementById("5gwifi").style.display="block";
				document.getElementById("5gwifi").style.visibility="visible";
				fiveradio = rv.fiveradio;
				fivedisabled = rv.fivedisabled;
				if ( fivedisabled == "0" )
				{
					document.getElementById("fdisbtn").value = "Enabled";
					document.getElementById('fdisbtn').className="cbi-button cbi-button-success";
				}
				else
				{
					document.getElementById("fdisbtn").value = "Disabled";
					document.getElementById('fdisbtn').className="cbi-button cbi-button-remove";
				}
				fivemode = rv.fivemode;
				document.getElementById('fwgtmsr').selectedIndex = fivemode;
				if ( fivemode == "0" )
				{
					document.getElementById("fwgtw").disabled = true;
				}
				fivechannel = rv.fivechannel;
				var chsel = rv.fiveclist;
				var arr=(chsel.split("|"));
				var len = arr.length;
				var sel = document.getElementById('fwgtch');
				for(i=0;i<len;i++)
				{
					charr = (arr[i].split("!"));
					
					sel.options[sel.options.length] =new Option(charr[1], charr[0]);
					if (fivechannel == charr[0] )
					{
						sel.value = charr[0];
					}
				}
				fivehtmode = rv.fivehtmode;
				fivehmode = rv.fivehmode;
				sel = document.getElementById('fwgtw');
				sel.options[sel.options.length] =new Option("20 Mhz", 0);
				if ( fivehtmode == "1" )
				{
					sel.options[sel.options.length] =new Option("40 Mhz", 1);
				}
				if ( fivehtmode == "2" )
				{
					sel.options[sel.options.length] =new Option("40 Mhz", 1);
					sel.options[sel.options.length] =new Option("80 Mhz", 2);
				}
				if ( fivehtmode == "3" )
				{
					sel.options[sel.options.length] =new Option("40 Mhz", 1);
					sel.options[sel.options.length] =new Option("80 Mhz", 2);
					sel.options[sel.options.length] =new Option("160 Mhz", 3);
				}
				sel.value = fivehmode;
				fivecountry = rv.fivecountry;
				selt = document.getElementById('fwgtcon');
				for(i=0;i<countrycnt;i++)
				{
					selt.options[selt.options.length] =new Option(countryarr[i], i);
				}
				for(i=0;i<countrycnt;i++)
				{
					if (fivecountry == codearr[i] )
					{
						selt.value = i;
						break;
					}
				}
				fivessid = rv.fivessid;
				document.getElementById('fssid').value = fivessid;
				fivekey = rv.fivekey;
				if ( fivekey != "-" )
				{
					document.getElementById('fwkey').value = fivekey;
				}
				fiveencryption = rv.fiveencryption;
				document.getElementById('fwgten').selectedIndex = fiveencryption;
				if ( fiveencryption == "3" )
				{
					document.getElementById("fwkey").disabled = true;
					document.getElementById("fwkey").value = "";
					document.getElementById("fpwcheck").disabled = true;
				}
				fivecurrtx = rv.fivecurrtx;
				document.getElementById('fcurrtx').innerHTML = fivecurrtx + " dBm";
				fivetxcnt = rv.fivetxcnt;
				chselt = rv.fivetxlist;
				arrt=(chselt.split("|"));
				len = arrt.length;
				selt = document.getElementById('fwgtc');
				for(i=0;i<len;i++)
				{
					charr = (arrt[i].split("!"));
					selt.options[selt.options.length] =new Option(charr[1], charr[0]);
					if (fivecurrtx == charr[0] )
					{
						selt.value = i;
					}
				}
			}
			
			tworadio = rv.tworadio;
			twodisabled = rv.twodisabled;
			if ( twodisabled == "0" )
			{
				document.getElementById("disbtn").value = "Enabled";
				document.getElementById('disbtn').className="cbi-button cbi-button-success";
			}
			else
			{
				document.getElementById("disbtn").value = "Disabled";
				document.getElementById('disbtn').className="cbi-button cbi-button-remove";
			}
			twonoscan = rv.twonoscan;
			if ( twonoscan == "1" )
			{
				document.getElementById("40btn").value = "Enabled";
				document.getElementById('40btn').className="cbi-button cbi-button-success";
			}
			else
			{
				document.getElementById("40btn").value = "Disabled";
				document.getElementById('40btn').className="cbi-button cbi-button-remove";
			}
			twomode = rv.twomode;
			document.getElementById('wgtmsr').selectedIndex = twomode;
			if ( twomode == "0" )
			{
				document.getElementById("wgtw").disabled = true;
			}
			
			twossid = rv.twossid;
			document.getElementById('ssid').value = twossid;
			twokey = rv.twokey;
			if ( twokey != "-" )
			{
				document.getElementById('wkey').value = twokey;
			}
			twoencryption = rv.twoencryption;
			document.getElementById('wgten').selectedIndex = twoencryption;
			if ( twoencryption == "3" )
			{
				document.getElementById("wkey").disabled = true;
				document.getElementById("wkey").value = "";
				document.getElementById("pwcheck").disabled = true;
			}
			twochannel = rv.twochannel;
			var chsel = rv.twoclist;
			var arr=(chsel.split("|"));
			var len = arr.length;
			var sel = document.getElementById('wgtch');
			for(i=0;i<len;i++)
			{
				charr = (arr[i].split("!"));
				sel.options[sel.options.length] =new Option(charr[1], charr[0]);
				if (twochannel == charr[0] )
				{
					sel.value = i+1;
				}
			}
			twohtmode = rv.twohtmode;
			twohmode = rv.twohmode;
			sel = document.getElementById('wgtw');
			sel.options[sel.options.length] =new Option("20 Mhz", 0);
			if ( twohtmode == "1" )
			{
				sel.options[sel.options.length] =new Option("40 Mhz", 1);
			}
			sel.value = twohmode;
			twocurrtx = rv.twocurrtx;
			document.getElementById('currtx').innerHTML = twocurrtx + " dBm";
			twotxcnt = rv.twotxcnt;
			chselt = rv.twotxlist;
			arrt=(chselt.split("|"));
			len = arrt.length;
			selt = document.getElementById('wgtc');
			for(i=0;i<len;i++)
			{
				charr = (arrt[i].split("!"));
				selt.options[selt.options.length] =new Option(charr[1], charr[0]);
				if (twocurrtx == charr[0] )
				{
					selt.value = i;
				}
			}
			twocountry = rv.twocountry;
			selt = document.getElementById('wgtcon');
			for(i=0;i<countrycnt;i++)
			{
				selt.options[selt.options.length] =new Option(countryarr[i], i);
			}
			for(i=0;i<countrycnt;i++)
			{
				if (twocountry == codearr[i] )
				{
					selt.value = i;
					break;
				}
			}
		}
	);
	
	function removeOptions(selectElement) {
	   var i, L = selectElement.options.length - 1;
	   for(i = L; i >= 0; i--) {
		  selectElement.remove(i);
	   }
	}
	
	function btnenable(btn) {
		if ( twodisabled == "1" )
		{
			document.getElementById("disbtn").value = "Enabled";
			document.getElementById('disbtn').className="cbi-button cbi-button-success";
			twodisabled = "0";
		}
		else
		{
			document.getElementById("disbtn").value = "Disabled";
			document.getElementById('disbtn').className="cbi-button cbi-button-remove";
			twodisabled = "1";
		}
	}
	
	function fbtnenable(btn) {
		if ( fivedisabled == "1" )
		{
			document.getElementById("fdisbtn").value = "Enabled";
			document.getElementById('fdisbtn').className="cbi-button cbi-button-success";
			fivedisabled = "0";
		}
		else
		{
			document.getElementById("fdisbtn").value = "Disabled";
			document.getElementById('fdisbtn').className="cbi-button cbi-button-remove";
			fivedisabled = "1";
		}
	}
	
	function fortyenable(btn) {
		if ( twonoscan == "0" )
		{
			document.getElementById("40btn").value = "Enabled";
			document.getElementById('40btn').className="cbi-button cbi-button-success";
			twonoscan = "1";
		}
		else
		{
			document.getElementById("40btn").value = "Disabled";
			document.getElementById('40btn').className="cbi-button cbi-button-remove";
			twonoscan = "0";
		}
	}
		
	function showhide() {
	  var x = document.getElementById("wkey");
	  if (x.type === "password") {
		x.type = "text";
		document.getElementById('pwcheck').value = "Hide";
	  } else {
		x.type = "password";
		document.getElementById('pwcheck').value = "Show";
	  }
	} 
	
	function fshowhide() {
	  var x = document.getElementById("fwkey");
	  if (x.type === "password") {
		x.type = "text";
		document.getElementById('fpwcheck').value = "Hide";
	  } else {
		x.type = "password";
		document.getElementById('fpwcheck').value = "Show";
	  }
	} 
	
	function encrchge() {
		twoencryption = document.getElementById('wgten').selectedIndex;
		if ( twoencryption == "3" )
		{
			document.getElementById("wkey").disabled = true;
			document.getElementById("wkey").value = "";
			document.getElementById("pwcheck").disabled = true;
		}
		else
		{
			document.getElementById("wkey").disabled = false;
			document.getElementById("wkey").value = twokey;
			document.getElementById("pwcheck").disabled = false;
		}
	}
	
	function fencrchge() {
		fiveencryption = document.getElementById('fwgten').selectedIndex;
		if ( fiveencryption == "3" )
		{
			document.getElementById("fwkey").disabled = true;
			document.getElementById("fwkey").value = "";
			document.getElementById("fpwcheck").disabled = true;
		}
		else
		{
			document.getElementById("fwkey").disabled = false;
			document.getElementById("fwkey").value = twokey;
			document.getElementById("fpwcheck").disabled = false;
		}
	}
	
	function txpwr() {
		var tx = document.getElementById('wgtc').value;
		//document.getElementById('currtx').innerHTML = tx + " dBm";
	}
	
	function modechge() {
		twomode = document.getElementById('wgtmsr').selectedIndex;
		if ( twomode != "0" )
		{
			document.getElementById("wgtw").disabled = false;
		}
		else
		{
			document.getElementById("wgtw").disabled = true;
		}
	}
	
	function fmodechge() {
		fivemode = document.getElementById('fwgtmsr').selectedIndex;
		if ( fivemode != "0" )
		{
			document.getElementById("fwgtw").disabled = false;
			sel = document.getElementById('fwgtw');
			removeOptions(sel);
			sel.options[sel.options.length] =new Option("20 Mhz", 0);
			if ( fivemode == "1" )
			{
				sel.options[sel.options.length] =new Option("40 Mhz", 1);
			}
			if ( fivemode == "2" )
			{
				sel.options[sel.options.length] =new Option("40 Mhz", 1);
				sel.options[sel.options.length] =new Option("80 Mhz", 2);
				if ( fivehtmode == "3" )
				{
					sel.options[sel.options.length] =new Option("160 Mhz", 3);
				}
			}
		}
		else
		{
			document.getElementById("fwgtw").disabled = true;
		}
	}
	
	function savetwo() {
		var savetxt = tworadio + "|" + twodisabled + "|" + twonoscan + "|";
		savetxt = savetxt + document.getElementById('wgtmsr').value + "|";
		var ssid = document.getElementById('ssid').value;
		if ( ssid == "" )
		{
			alert("No SSID has been entered");
			return false;
		}
		savetxt = savetxt + ssid + "|";
		var encr = document.getElementById('wgten').value;
		var pass = document.getElementById('wkey').value;
		if ( encr == 3 )
		{
			pass = "xxx";
		}
		else
		{
			var plen = pass.length;
			if ( plen < 8 )
			{
				alert("Password less than 8 characters");
				return false;
			}
		}
		savetxt = savetxt + pass + "|" + encr + "|";
		var chan = document.getElementById('wgtch').value;
		var width = document.getElementById('wgtw').value;
		var tx = document.getElementById('wgtc').value;
		var con = document.getElementById('wgtcon').value;
		var ccon = codearr[con];
		savetxt = savetxt + chan + "|" + width + "|" + tx + "|" + ccon + "|";
		document.getElementById('save2g').disabled=true;
		
		XHR.get('<%=luci.dispatcher.build_url("admin", "network", "setwifi")%>',
			{ set: savetxt },
			function()
			{
				document.getElementById('currtx').innerHTML = tx + " dBm";
				document.getElementById('save2g').disabled=false;
			}
		);
	}
	
	function savefive() {
		var savetxt = fiveradio + "|" + fivedisabled + "|" + "0" + "|";
		savetxt = savetxt + document.getElementById('fwgtmsr').value + "|";
		var ssid = document.getElementById('fssid').value;
		if ( ssid == "" )
		{
			alert("No SSID has been entered");
			return false;
		}
		savetxt = savetxt + ssid + "|";
		var encr = document.getElementById('fwgten').value;
		var pass = document.getElementById('fwkey').value;
		if ( encr == 3 )
		{
			pass = "xxx";
		}
		else
		{
			var plen = pass.length;
			if ( plen < 8 )
			{
				alert("Password less than 8 characters");
				return false;
			}
		}
		savetxt = savetxt + pass + "|" + encr + "|";
		var chan = document.getElementById('fwgtch').value;
		var width = document.getElementById('fwgtw').value;
		var tx = document.getElementById('fwgtc').value;
		var con = document.getElementById('fwgtcon').value;
		var ccon = codearr[con];
		savetxt = savetxt + chan + "|" + width + "|" + tx + "|" + ccon + "|";
		document.getElementById('save5g').disabled=true;
		
		XHR.get('<%=luci.dispatcher.build_url("admin", "network", "setwifi")%>',
			{ set: savetxt },
			function()
			{
				document.getElementById('fcurrtx').innerHTML = tx + " dBm";
				document.getElementById('save5g').disabled=false;
			}
		);
	}

//]]></script>

<form method="post" action="<%=REQUEST_URI%>">
<div class="cbi-map" id="cbi-modem">
<h2><a id="content" name="content"><%:Wifi Settings%></a></h2>
<div class="cbi-map-descr"> </div>
<head>
	<style>
		.container {
		  height: 50px;
		  position: relative;
		}

		.center {
		  margin: 0;
		  position: absolute;
		  top: 50%;
		  left: 50%;
		  -ms-transform: translate(-50%, -50%);
		  transform: translate(-50%, -50%);
		}
		.middle {
		  margin: 0;
		  position: absolute;
		  top: 50%;
		  left: 10%;
		  -ms-transform: translate(-10%, -50%);
		  transform: translate(-10%, -50%);
		}
		
		#wgtmsr{
		 width:100px;   
		}
		
		#wgtmsr option{
		 width:90px;   
		}
		
		#wgtch{
		 width:170px;   
		}
		
		#wgtch option{
		 width:160px;   
		}
		
		#wgtw{
		 width:110px;   
		}
		
		#wgtw option{
		 width:100px;   
		}
		
		#wgtc{
		 width:170px;   
		}
		
		#wgtc option{
		 width:160px;   
		}
		
		#wgtcon{
		 width:290px;   
		}
		
		#wgtcon option{
		 width:280px;   
		}
		
		#wgten{
		 width:290px;   
		}
		
		#wgten option{
		 width:280px;   
		}
		
		
		#fwgtmsr{
		 width:100px;   
		}
		
		#fwgtmsr option{
		 width:90px;   
		}
		
		#fwgtch{
		 width:170px;   
		}
		
		#fwgtch option{
		 width:160px;   
		}
		
		#fwgtw{
		 width:110px;   
		}
		
		#fwgtw option{
		 width:100px;   
		}
		
		#fwgtc{
		 width:170px;   
		}
		
		#fwgtc option{
		 width:160px;   
		}
		
		#fwgtcon{
		 width:290px;   
		}
		
		#fwgtcon option{
		 width:280px;   
		}
		
		#fwgten{
		 width:290px;   
		}
		
		#fwgten option{
		 width:280px;   
		}


	</style>
</head>

<fieldset class="cbi-section" id="wifi">

	<table width="100%" cellspacing="10" id="waiting">
		<tr><td width="33%">&nbsp;</td><td><img src="<%=resource%>/icons/loading.gif" alt="<%:Loading%>" style="vertical-align:middle" /> Collecting data...</td></tr>
	</table>
	
	<table width="900px" style="border-style:double;visibility:hidden;display:none" id="2gwifi" >
		<tr>
			<td>
				<table width="600px" border="0">
					<tr>
						<td width="170px"><div align="left" style="font-size : 25px";text-align:center><img src="<%=resource%>/icons/wifi.png" width="50" height="50"><strong>&nbsp;&nbsp;&nbsp;&nbsp;<%:2.4 Ghz Wifi%></strong></div></td>
						<td width="430px"><div>&nbsp;</div></td>
					</tr>
				</table>
			</td>
		</tr>
		<tr>
			<td>
				<table width="850px" border="1">
					<tr>
						<td width="250px">
							<div align="right"style="font-size : 17px" ><%:Wireless Radio is Enabled%></div>
						</td>
						<td width="200px">
							<div class="container">
								<div class="center">
									<input type="button" id="disbtn" class="cbi-button cbi-button-success" value="<%:Disable%>" onclick="return btnenable(this)"
								</div>
							</div>
						</td>
						<td width="200px">
							<div>&nbsp;</div>
						</td>
						<td width="200px">
							<div>&nbsp;</div>
						</td>
						<td width="200px">
							<div>&nbsp;</div>
						</td>
					</tr>
					<tr>
						<td>
							<div align="right" style="font-size : 17px"><%:Operating Frequency%></div>
						</td>
						<td>
							<div class="container">
								<div class="center"  style="font-size : 17px">
									<span>Mode</span>
									<select name="wgtmsr" id="wgtmsr"  style="font-size : 17px" onchange="modechge()">
									  <option value="0">Legacy</option>
									  <option value="1">&nbsp;&nbsp;&nbsp;&nbsp;N</option>
									</select>
								</div>
							</div>
						</td>
						<td>
							<div class="container">
								<div class="center"  style="font-size : 17px">
									<span>Channel</span>
									<select name="wgtch" id="wgtch"  style="font-size : 17px">
									</select>
								</div>
							</div>
						</td>
						<td>
							<div class="container">
								<div class="center"  style="font-size : 17px">
									<span>Width</span>
									<select name="wgtw" id="wgtw"  style="font-size : 17px" onchange="widthchge()">
									</select>
								</div>
							</div>
						</td>
						<td>
							<div>&nbsp;</div>
						</td>
						<td>
							<div>&nbsp;</div>
						</td>
					</tr>
					<tr>
						<td>
							<div>&nbsp;</div>
						</td>
						<td>
							<div>&nbsp;</div>
						</td>
						<td>
							<div align="right"style="font-size : 17px" ><%:Force 40 Mhz mode%></div>
						</td>
						<td>
							<div class="container">
								<div class="middle"  style="font-size : 17px">
									<input type="button" id="40btn" class="cbi-button cbi-button-remove" value="<%:Disable%>" onclick="return fortyenable(this)"
								<div>
							</div>
						</td>
						<td>
							<div>&nbsp;</div>
						</td>
					</tr>
					<tr>
						<td>
							<div align="right" style="font-size : 17px"><%:Maximum Transmit Power%></div>
						</td>
						<td>
							<div class="container">
								<div class="center"  style="font-size : 17px">
									<select name="wgtc" id="wgtc"  style="font-size : 17px" onclick="txpwr()">
									</select>
								</div>
							</div>
						</td>
						<td>
							<div align="right"style="font-size : 17px" ><%:Current TX Power%>&nbsp;&nbsp;:</div>
						</td>
						<td>
							<div align="left"style="font-size : 17px" id="currtx"></div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
		<tr>
			<td>
				<table width="800px" border="1">
					<tr>
						<td width="140px">
							<div align="right"style="font-size : 17px" ><%:Country%></div>
						</td>
						<td width="300px">
							<div class="container">
								<div class="middle"  style="font-size : 17px">
									<select name="wgtcon" id="wgtcon"  style="font-size : 17px">
									</select>
								</div>
							</div>
						</td>
						<td width="40px">
							<div>&nbsp;</div>
						</td>
						<td width="320px">
							<div>&nbsp;</div>
						</td>
					</tr>
					<tr>
						<td>
							<div align="right"style="font-size : 17px" ><%:SSID%></div>
						</td>
						<td>
							<input type="text" name="ssid" id="ssid" class="cbi-input-text" style="width: 300px;font-size : 17px" maxlength="500" ></input>
						</td>
					</tr>
					<tr>
						<td>
							<div align="right"style="font-size : 17px" ><%:Password%></div>
						</td>
						<td>
							<input type="password" id="wkey" style="width: 300px;font-size : 17px" maxlength="500" > 
							<input type="button" id="pwcheck" class="cbi-button cbi-button-sucess" value="<%:Show%>" onclick="showhide()">
						</td>
					</tr>
					<tr>
						<td>
							<div align="right"style="font-size : 17px" ><%:Encryption%></div>
						</td>
						<td>
							<div class="container">
								<div class="middle"  style="font-size : 17px">
									<select name="wgten" id="wgten" onchange="encrchge()" style="font-size : 17px">
										 <option value="0">WPA2-PSK (strong security)</option>
										 <option value="1">WPA-PSK/WPA2-PSK Mixed Mode (medium security)</option>
										 <option value="2">WPA-PSK (medium security)</option>
										 <option value="3">No Encryption</option>
									</select>
								</div>
							</div>
						</td>
						<td>
							<div>&nbsp;</div>
						</td>
						<td>
							<div align="right" >
							<input type="button" id="save2g" class="cbi-button cbi-button-save" style="font-size : 20px" value="<%:Save 2.4 Ghz Settings%>" onclick="savetwo()">
							</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>	
	</table>
	
	<table width="900px" style="border-style:double;visibility:hidden;display:none" id="5gwifi" >
		<tr>
			<td>
				<table width="900px" border="0">
					<tr>
						<td width="270px"><div align="left" style="font-size : 25px";text-align:center><img src="<%=resource%>/icons/wifi.png" width="50" height="50"><strong>&nbsp;&nbsp;&nbsp;&nbsp;<%:5.8 Ghz Wifi%></strong></div></td>
						<td width="430px"><div>&nbsp;</div></td>
					</tr>
				</table>
			</td>
		</tr>
		<tr>
			<td>
				<table width="850px" border="1">
					<tr>
						<td width="250px">
							<div align="right"style="font-size : 17px" ><%:Wireless Radio is Enabled%></div>
						</td>
						<td width="200px">
							<div class="container">
								<div class="center">
									<input type="button" id="fdisbtn" class="cbi-button cbi-button-remove" value="<%:Disable%>" onclick="return fbtnenable(this)"
								</div>
							</div>
						</td>
						<td width="200px">
							<div>&nbsp;</div>
						</td>
						<td width="200px">
							<div>&nbsp;</div>
						</td>
						<td width="200px">
							<div>&nbsp;</div>
						</td>
					</tr>
					<tr>
						<td>
							<div align="right" style="font-size : 17px"><%:Operating Frequency%></div>
						</td>
						<td>
							<div class="container">
								<div class="center"  style="font-size : 17px">
									<span>Mode</span>
									<select name="fwgtmsr" id="fwgtmsr"  style="font-size : 17px" onchange="fmodechge()">
									  <option value="0">Legacy</option>
									  <option value="1">&nbsp;&nbsp;&nbsp;&nbsp;N
									  <option value="2">&nbsp;&nbsp;&nbsp;&nbsp;AC</option>
									</select>
								</div>
							</div>
						</td>
						<td>
							<div class="container">
								<div class="center"  style="font-size : 17px">
									<span>Channel</span>
									<select name="fwgtch" id="fwgtch"  style="font-size : 17px">
									</select>
								</div>
							</div>
						</td>
						<td>
							<div class="container">
								<div class="center"  style="font-size : 17px">
									<span>Width</span>
									<select name="fwgtw" id="fwgtw"  style="font-size : 17px" onchange="fwidthchge()">
									</select>
								</div>
							</div>
						</td>
						<td>
							<div>&nbsp;</div>
						</td>
						<td>
							<div>&nbsp;</div>
						</td>
					</tr>
					<tr>
						<td>
							<div align="right" style="font-size : 17px"><%:Maximum Transmit Power%></div>
						</td>
						<td>
							<div class="container">
								<div class="center"  style="font-size : 17px">
									<select name="fwgtc" id="fwgtc"  style="font-size : 17px" onclick="ftxpwr()">
									</select>
								</div>
							</div>
						</td>
						<td>
							<div align="right"style="font-size : 17px" ><%:Current TX Power%>&nbsp;&nbsp;:</div>
						</td>
						<td>
							<div align="left"style="font-size : 17px" id="fcurrtx"></div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
		<tr>
			<td>
				<table width="800px" border="1">
					<tr>
						<td width="140px">
							<div align="right"style="font-size : 17px" ><%:Country%></div>
						</td>
						<td width="300px">
							<div class="container">
								<div class="middle"  style="font-size : 17px">
									<select name="fwgtcon" id="fwgtcon"  style="font-size : 17px">
									</select>
								</div>
							</div>
						</td>
						<td width="40px">
							<div>&nbsp;</div>
						</td>
						<td width="320px">
							<div>&nbsp;</div>
						</td>
					</tr>
					<tr>
						<td>
							<div align="right"style="font-size : 17px" ><%:SSID%></div>
						</td>
						<td>
							<input type="text" name="fssid" id="fssid" class="cbi-input-text" style="width: 300px;font-size : 17px" maxlength="500" ></input>
						</td>
					</tr>
					<tr>
						<td>
							<div align="right"style="font-size : 17px" ><%:Password%></div>
						</td>
						<td>
							<input type="password" id="fwkey" style="width: 300px;font-size : 17px" maxlength="500" > 
							<input type="button" id="fpwcheck" class="cbi-button cbi-button-sucess" value="<%:Show%>" onclick="fshowhide()">
						</td>
					</tr>
					<tr>
						<td>
							<div align="right"style="font-size : 17px" ><%:Encryption%></div>
						</td>
						<td>
							<div class="container">
								<div class="middle"  style="font-size : 17px">
									<select name="fwgten" id="fwgten" onchange="encrchge()" style="font-size : 17px">
										 <option value="0">WPA2-PSK (strong security)</option>
										 <option value="1">WPA-PSK/WPA2-PSK Mixed Mode (medium security)</option>
										 <option value="2">WPA-PSK (medium security)</option>
										 <option value="3">No Encryption</option>
									</select>
								</div>
							</div>
						</td>
						<td>
							<div>&nbsp;</div>
						</td>
						<td>
							<div align="right" >
							<input type="button" id="save5g" class="cbi-button cbi-button-save" style="font-size : 20px" value="<%:Save 5.8 Ghz Settings%>" onclick="savefive()">
							</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>

	</table>

</fieldset>
<%+footer%>